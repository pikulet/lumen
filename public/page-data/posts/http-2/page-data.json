{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/http-2","result":{"data":{"markdownRemark":{"id":"fed7e0b3-d337-5cac-b05d-86bab79ee08d","html":"<p>(scroll below for tldr photo)</p>\n<p>HTTP/2 is the successor version of HTTP1.1, as specified under RFC 7540 (May 2015). It was developed with optimising web requests in mind. Here are some new features it introduced:</p>\n<h4 id=\"1-multiplexing-of-requests-via-streams\" style=\"position:relative;\"><a href=\"#1-multiplexing-of-requests-via-streams\" aria-label=\"1 multiplexing of requests via streams permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Multiplexing of requests via Streams</h4>\n<p>Every request is sent on a separate Stream. The request can be further broken down to multiple Frames, and interleaved with other requests.\n<img src=\"/47ba5b32e42cf5a06c3741d29ef9b94a/http-2-streams.svg\" alt=\"Interleaving of requests in HTTP/2 Streams\"></p>\n<p>All the streams are independent and do not block each other. The client can correspondingly prioritise particular streams.</p>\n<p>My take: streams redefine the unit of transmission in HTTP requests. Instead of having to sequentially make requests, it is now possible to combine different Frames into a Stream.</p>\n<h4 id=\"2-header-field-compression-hpack-rfc-7541\" style=\"position:relative;\"><a href=\"#2-header-field-compression-hpack-rfc-7541\" aria-label=\"2 header field compression hpack rfc 7541 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Header field compression (HPACK, RFC 7541)</h4>\n<p>HPACK is the compression technique used in HTTP/2. The method aims to compress redundant and repeated header fields across multiple requests.</p>\n<p>A few pre-defined mappings (Index, Header Name, Header Value) are shown:</p>\n<ul>\n<li>2, :method, GET</li>\n<li>3, :method, POST</li>\n<li>12, :status, 400</li>\n<li>28, content-length</li>\n</ul>\n<p>Instead of always typing the entirety of “POST” or “GET”, the respective indices are used, compressing the request.</p>\n<p>Huffman Encoding is also used. This technique uses frequency data such that more commonly-used bytes are represented using fewer bits. For example, byte 65(A) is more common than byte 92(\\).</p>\n<p>HPACK is a technical method to compress the request, and does not involve a big paradigm shift in the operation of HTTP/2.</p>\n<h4 id=\"3-server-push\" style=\"position:relative;\"><a href=\"#3-server-push\" aria-label=\"3 server push permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Server Push</h4>\n<p>Lastly, the server can speculatively send data to the client in anticipation of a future request.</p>\n<h2 id=\"remarks\" style=\"position:relative;\"><a href=\"#remarks\" aria-label=\"remarks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Remarks</h2>\n<p>HTTP/2 is inter-operable with HTTP1.1, and acts like an extension to HTTP1.1. <a href=\"https://github.com/http2/http2-spec/wiki/Implementations\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Here</a> are known implementations that can be used for development.</p>\n<p>I’ve shared just some of the most exciting improvements HTTP/2 has to offer. There are more questions that HTTP/2 raises, which I encourage interested readers to look into.</p>\n<p>Preparing this post led me on a journey to scour through the RFCs to really understand what are the changes HTTP/2 brought. I’ve also come to appreciate how RFCs help to standardise many protocols we use today.</p>\n<h5 id=\"guiding-questions\" style=\"position:relative;\"><a href=\"#guiding-questions\" aria-label=\"guiding questions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Guiding Questions</h5>\n<ul>\n<li>What are the security implications of HTTP/2?</li>\n<li>What is HTTP/3 about?</li>\n</ul>\n<h5 id=\"additional-resources\" style=\"position:relative;\"><a href=\"#additional-resources\" aria-label=\"additional resources permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Additional Resources</h5>\n<ul>\n<li><a href=\"https://developers.google.com/web/fundamentals/performance/http2/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Introduction to HTTP/2</a>\n(has a short history on SPDY, the “prototype” HTTP/2)</li>\n<li><a href=\"https://tools.ietf.org/html/rfc7540\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RFC 7540 (HTTP/2)</a></li>\n<li><a href=\"https://tools.ietf.org/html/rfc7541\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RFC 7541 (HPACK)</a></li>\n</ul>\n<p>A cute photo, and the inspiration behind this post:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 633px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/054c0/http-2-summary.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 151.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHtNUWSENI0GH//xAAZEAACAwEAAAAAAAAAAAAAAAAAEAERMSH/2gAIAQEAAQUCwxWauOVB/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFBABAAAAAAAAAAAAAAAAAAAAMP/aAAgBAQAGPwJP/8QAHBAAAgMBAAMAAAAAAAAAAAAAAAERITFBEGFx/9oACAEBAAE/IdOJFHD8O0xZTYJfR2pHakh+ijswwf/aAAwDAQACAAMAAAAQ4wkM/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAMBAAMBAAAAAAAAAAAAAQARITFBYXFR/9oACAEBAAE/ECwAK+AjYa34FwbIDyDLEigVCZtbKhry/SPW0vSpY3COVXIN0H0m3Vep1foTY72B8n//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/8ac56/http-2-summary.webp 240w,\n/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/d3be9/http-2-summary.webp 480w,\n/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/5c300/http-2-summary.webp 633w\"\n          sizes=\"(max-width: 633px) 100vw, 633px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/09b79/http-2-summary.jpg 240w,\n/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/7cc5e/http-2-summary.jpg 480w,\n/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/054c0/http-2-summary.jpg 633w\"\n          sizes=\"(max-width: 633px) 100vw, 633px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/09a8e9e5a17bfa4ed0d2de583b16d0e3/054c0/http-2-summary.jpg\"\n          alt=\"A cute photo summarising HTTP/2\"\n          title=\"A cute photo summarising HTTP/2\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>","fields":{"slug":"/posts/http-2","tagSlugs":["/tag/http-2/"]},"frontmatter":{"date":"2019-08-28","description":"Given the deluge of web requests made daily, what optimisations can be made to improve the user experience?","tags":["http-2"],"title":"HTTP/2"}}},"pageContext":{"slug":"/posts/http-2"}},"staticQueryHashes":["251939775","3439816877","401334301"]}